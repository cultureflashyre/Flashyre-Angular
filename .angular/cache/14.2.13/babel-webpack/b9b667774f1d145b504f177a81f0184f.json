{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component, Input, ContentChild, ViewChild } from '@angular/core';\nlet CandidateJobDetails = class CandidateJobDetails {\n  constructor(route, jobDetailsService) {\n    this.route = route;\n    this.jobDetailsService = jobDetailsService;\n    this.imageSrc1 = '/assets/Icons/corporate_fare_100dp_e3e3e3_fill0_wght400_grad0_opsz48-200h.png'; // Original path\n\n    this.imageAlt1 = 'image';\n    this.rootClassName = '';\n    this.job = {};\n  }\n\n  ngOnInit() {\n    // Try route parameter first, then query parameter\n    let jobId = this.route.snapshot.paramMap.get('jobId');\n\n    if (!jobId) {\n      jobId = this.route.snapshot.queryParams['jobId'];\n    }\n\n    if (!jobId || jobId === 'null' || isNaN(+jobId)) {\n      console.error('Invalid jobId:', jobId);\n      return;\n    }\n\n    this.jobDetailsService.getJobDetails(+jobId).subscribe(data => {\n      console.log('Job data received:', data);\n      this.job = data;\n      this.imageSrc1 = data.logo || this.imageSrc1;\n      this.imageAlt1 = `${data.company_name} logo` || this.imageAlt1;\n      this.text = this.createTemplate(data.company_name) || this.defaultText;\n      this.text1 = this.createTemplate(data.title) || this.defaultText1;\n      this.text2 = this.createTemplate(`${data.location} | Posted ${this.formatDate(data.created_at)}`) || this.defaultText2;\n      this.text3 = this.createTemplate(this.formatJobDescription(data)) || this.defaultText3;\n      this.job.matching_score = data.matching_score || 95;\n    }, error => {\n      console.error('Error fetching job details:', error);\n    });\n  }\n\n  getFillColor(value) {\n    if (value <= 40) return 'red';\n    if (value <= 60) return 'orange';\n    if (value <= 75) return '#4D91C6';\n    if (value <= 84) return 'lightgreen';\n    return 'darkgreen';\n  }\n\n  getStrokeDasharray(value) {\n    const circumference = 19; // Approximate circumference of the SVG circle\n\n    const strokeValue = value / 100 * circumference;\n    return `${strokeValue} ${circumference - strokeValue}`;\n  }\n\n  createTemplate(content) {\n    if (!content) {\n      return null;\n    }\n\n    return {\n      elementRef: null,\n      createEmbeddedView: () => ({\n        rootNodes: [document.createTextNode(content)]\n      })\n    };\n  }\n\n  formatDate(date) {\n    if (!date) return 'Unknown';\n    const postedDate = new Date(date);\n    const now = new Date();\n    const diffDays = Math.floor((now.getTime() - postedDate.getTime()) / (1000 * 3600 * 24));\n    return `${diffDays} days ago`;\n  }\n\n  formatJobDescription(data) {\n    return `\n      About the job\n      ${data.description || 'No description available.'}\n      Minimum qualifications:\n      ${data.requirements || 'No requirements listed.'}\n    `;\n  }\n\n};\n\n__decorate([ContentChild('button')], CandidateJobDetails.prototype, \"button\", void 0);\n\n__decorate([ContentChild('button1')], CandidateJobDetails.prototype, \"button1\", void 0);\n\n__decorate([ContentChild('text')], CandidateJobDetails.prototype, \"text\", void 0);\n\n__decorate([ContentChild('text1')], CandidateJobDetails.prototype, \"text1\", void 0);\n\n__decorate([ContentChild('text2')], CandidateJobDetails.prototype, \"text2\", void 0);\n\n__decorate([ContentChild('text3')], CandidateJobDetails.prototype, \"text3\", void 0);\n\n__decorate([Input()], CandidateJobDetails.prototype, \"imageSrc1\", void 0);\n\n__decorate([Input()], CandidateJobDetails.prototype, \"imageAlt1\", void 0);\n\n__decorate([Input()], CandidateJobDetails.prototype, \"rootClassName\", void 0);\n\n__decorate([ViewChild('defaultText', {\n  static: true\n})], CandidateJobDetails.prototype, \"defaultText\", void 0);\n\n__decorate([ViewChild('defaultText1', {\n  static: true\n})], CandidateJobDetails.prototype, \"defaultText1\", void 0);\n\n__decorate([ViewChild('defaultText2', {\n  static: true\n})], CandidateJobDetails.prototype, \"defaultText2\", void 0);\n\n__decorate([ViewChild('defaultText3', {\n  static: true\n})], CandidateJobDetails.prototype, \"defaultText3\", void 0);\n\n__decorate([ViewChild('defaultButton', {\n  static: true\n})], CandidateJobDetails.prototype, \"defaultButton\", void 0);\n\n__decorate([ViewChild('defaultButton1', {\n  static: true\n})], CandidateJobDetails.prototype, \"defaultButton1\", void 0);\n\nCandidateJobDetails = __decorate([Component({\n  selector: 'candidate-job-details',\n  templateUrl: './candidate-job-details.component.html',\n  styleUrls: ['./candidate-job-details.component.css']\n})], CandidateJobDetails);\nexport { CandidateJobDetails };","map":null,"metadata":{},"sourceType":"module"}