{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nlet CandidateJobDetailView = class CandidateJobDetailView {\n  constructor(title, meta, jobsService // Inject JobsService\n  ) {\n    this.title = title;\n    this.meta = meta;\n    this.jobsService = jobsService;\n    this.jobs = [];\n    this.selectedJob = null; // To store the currently viewed job details\n\n    this.title.setTitle('Candidate-Job-Detail-View - Flashyre');\n    this.meta.addTags([{\n      property: 'og:title',\n      content: 'Candidate-Job-Detail-View - Flashyre'\n    }, {\n      property: 'og:image',\n      content: 'https://aheioqhobo.cloudimg.io/v7/_playground-bucket-v2.teleporthq.io_/8203932d-6f2d-4493-a7b2-7000ee521aa2/9aea8e9c-27ce-4011-a345-94a92ae2dbf8?org_if_sml=1&force_format=original'\n    }]);\n  }\n\n  ngOnInit() {\n    // Use the service to fetch all jobs\n    this.jobsService.getJobs().subscribe(data => {\n      this.jobs = data; // Display the first job's details on initial load if jobs are available\n\n      if (this.jobs.length > 0) {\n        this.selectedJob = this.jobs[0];\n      }\n    }, error => {\n      console.error('Error fetching jobs:', error); // Implement better error handling for the user here\n    });\n  }\n\n  onJobCardClick(job) {\n    var _a;\n\n    this.selectedJob = job; // Scroll to the detailed view section for better UX on smaller screens\n\n    (_a = document.getElementById('candidate-job-detail-view-container5')) === null || _a === void 0 ? void 0 : _a.scrollIntoView({\n      behavior: 'smooth'\n    });\n  }\n\n  calculateDaysAgo(dateString) {\n    if (!dateString) {\n      return 'N/A';\n    }\n\n    const postedDate = new Date(dateString);\n    const today = new Date();\n    const diffTime = Math.abs(today.getTime() - postedDate.getTime());\n    const diffDays = Math.ceil(diffTime / (1000 * 60 * 60 * 24)); // Convert milliseconds to days\n\n    if (diffDays === 0) {\n      return 'today';\n    } else if (diffDays === 1) {\n      return '1 day ago';\n    } else {\n      return `${diffDays} days ago`;\n    }\n  }\n\n};\nCandidateJobDetailView = __decorate([Component({\n  selector: 'candidate-job-detail-view',\n  templateUrl: 'candidate-job-detail-view.component.html',\n  styleUrls: ['candidate-job-detail-view.component.css']\n})], CandidateJobDetailView);\nexport { CandidateJobDetailView };","map":null,"metadata":{},"sourceType":"module"}