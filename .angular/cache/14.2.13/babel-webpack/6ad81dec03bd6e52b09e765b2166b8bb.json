{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component, Input } from '@angular/core';\nlet AssessmentAttemptsListComponent = class AssessmentAttemptsListComponent {\n  constructor(assessmentTakenService) {\n    this.assessmentTakenService = assessmentTakenService;\n    this.assessment_title = '';\n    this.assessment_logo_url = '';\n    this.created_by = '';\n    this.attempts_remaining = 0;\n    this.attempts = [];\n    this.showDetailView = false;\n    this.selectedAttempt = null;\n    this.loading = false;\n    this.errorMessage = '';\n  }\n\n  ngOnInit() {\n    if (this.assessmentId) {\n      this.fetchAssessmentData(this.assessmentId);\n    } else {\n      this.errorMessage = 'No assessment ID provided.';\n    }\n  }\n\n  fetchAssessmentData(assessmentId) {\n    this.loading = true;\n    this.assessmentTakenService.fetchAssessmentScore(assessmentId).subscribe({\n      next: data => {\n        var _a, _b, _c, _d;\n\n        this.assessmentData = data;\n        this.assessment_title = (_a = data.assessment_title) !== null && _a !== void 0 ? _a : '';\n        this.assessment_logo_url = (_b = data.assessment_logo_url) !== null && _b !== void 0 ? _b : '';\n        this.created_by = (_c = data.created_by) !== null && _c !== void 0 ? _c : '';\n        this.attempts_remaining = (_d = data.attempts_remaining) !== null && _d !== void 0 ? _d : 0;\n        this.attempts = Array.isArray(data.attempts) ? data.attempts : [];\n        this.loading = false;\n      },\n      error: error => {\n        this.errorMessage = 'Failed to load assessment data.';\n        this.loading = false;\n      }\n    });\n  }\n\n  getFillColor(value) {\n    if (value <= 40) return 'red';\n    if (value <= 60) return 'orange';\n    if (value <= 75) return '#4D91C6';\n    if (value <= 84) return 'lightgreen';\n    return 'darkgreen';\n  }\n\n  getOrdinal(n) {\n    if (n > 3 && n < 21) return 'th';\n\n    switch (n % 10) {\n      case 1:\n        return 'st';\n\n      case 2:\n        return 'nd';\n\n      case 3:\n        return 'rd';\n\n      default:\n        return 'th';\n    }\n  }\n\n  openDetailView(attempt) {\n    this.selectedAttempt = Object.assign(Object.assign({}, attempt), {\n      attempts_remaining: this.attempts_remaining,\n      created_by: this.created_by,\n      assessment_title: this.assessment_title,\n      assessment_logo_url: this.assessment_logo_url,\n      assessment_id: this.assessmentId\n    });\n    this.showDetailView = true;\n  }\n\n  closeDetailView() {\n    this.showDetailView = false;\n    this.selectedAttempt = null;\n  }\n\n  onReattempt() {// Implement re-attempt logic here if needed\n  }\n\n};\n\n__decorate([Input()], AssessmentAttemptsListComponent.prototype, \"assessmentId\", void 0);\n\nAssessmentAttemptsListComponent = __decorate([Component({\n  selector: 'assessment-attempts-list',\n  templateUrl: './assessment-attempts-list.html',\n  styleUrls: ['./assessment-attempts-list.css']\n})], AssessmentAttemptsListComponent);\nexport { AssessmentAttemptsListComponent };","map":null,"metadata":{},"sourceType":"module"}