{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nimport { environment } from '../../../environments/environment';\nlet CandidateAssessment = class CandidateAssessment {\n  constructor(title, meta, router, http, spinner, authService) {\n    this.title = title;\n    this.meta = meta;\n    this.router = router;\n    this.http = http;\n    this.spinner = spinner;\n    this.authService = authService;\n    this.userProfile = {};\n    this.defaultProfilePicture = \"/assets/placeholders/profile-placeholder.jpg\";\n    this.assessments = []; // Array to store fetched assessments\n\n    this.baseUrl = environment.apiUrl;\n    this.raw6b6z = ' ';\n    this.title.setTitle('Candidate-Assessment - Flashyre');\n    this.meta.addTags([{\n      property: 'og:title',\n      content: 'Candidate-Assessment - Flashyre'\n    }, {\n      property: 'og:image',\n      content: 'https://aheioqhobo.cloudimg.io/v7/_playground-bucket-v2.teleporthq.io_/8203932d-6f2d-4493-a7b2-7000ee521aa2/9aea8e9c-27ce-4011-a345-94a92ae2dbf8?org_if_sml=1&force_format=original'\n    }]);\n  }\n\n  loadUserProfile() {\n    const profileData = localStorage.getItem('userProfile');\n\n    if (profileData) {\n      this.userProfile = JSON.parse(profileData);\n    } else {\n      console.log(\"User Profile NOT fetched\");\n    }\n  }\n\n  get candidateProfilePictureUrl() {\n    return this.userProfile.profile_picture_url ? this.userProfile.profile_picture_url : this.defaultProfilePicture;\n  }\n\n  get candidateName() {\n    return `${this.userProfile.first_name || '--'} ${this.userProfile.last_name || '--'}`;\n  }\n\n  get candidateJobRole() {\n    if (this.userProfile.job_title) {\n      return `${this.userProfile.job_title} @ ${this.userProfile.company_name || '--'}`;\n    } else if (this.userProfile.education_level) {\n      return `${this.userProfile.education_level} from ${this.userProfile.university || '--'}`;\n    } else {\n      return '--';\n    }\n  } // Fetch assessments from the API\n\n\n  loadAssessments() {\n    this.spinner.show(); // Show spinner while loading\n\n    this.http.get(`${this.baseUrl}api/assessments/assessment-list/`).subscribe({\n      next: data => {\n        this.assessments = data; // Store fetched assessments\n\n        this.spinner.hide(); // Hide spinner on success\n      },\n      error: error => {\n        console.error('Error fetching assessments:', error);\n        this.spinner.hide(); // Hide spinner on error\n      }\n    });\n  } // Navigate to assessment page (dynamic based on assessment ID)\n\n\n  startAssessment(assessmentId) {\n    this.router.navigate(['/flashyre-assessment-rules-card'], {\n      queryParams: {\n        id: assessmentId\n      }\n    });\n  }\n\n  ngOnInit() {\n    this.loadUserProfile();\n    this.loadAssessments(); // Fetch assessments on component initialization\n  }\n\n  onLogoutClick() {\n    this.authService.logout(); // Call the logout method in AuthService\n    //this.router.navigate(['/login-candidate']); // Redirect to login page after logout\n  }\n\n};\nCandidateAssessment = __decorate([Component({\n  selector: 'candidate-assessment',\n  templateUrl: 'candidate-assessment.component.html',\n  styleUrls: ['candidate-assessment.component.css']\n})], CandidateAssessment);\nexport { CandidateAssessment };","map":null,"metadata":{},"sourceType":"module"}