{"ast":null,"code":"import { HttpHeaders } from '@angular/common/http';\nimport { environment } from '../../environments/environment';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/common/http\";\nexport let JobDescriptionService = /*#__PURE__*/(() => {\n  class JobDescriptionService {\n    constructor(http) {\n      this.http = http;\n      this.aiProcessUrl = `${environment.apiUrl}/api/ai-process/`;\n      this.jobPostUrl = `${environment.apiUrl}/api/job-post/`;\n    }\n\n    processJobDescription(fileUrl, token) {\n      const headers = new HttpHeaders({\n        Authorization: `Bearer ${token}`,\n        'Content-Type': 'application/json'\n      });\n      return this.http.post(this.aiProcessUrl, {\n        file_url: fileUrl\n      }, {\n        headers\n      });\n    }\n\n    saveJobPost(jobPost, token) {\n      const headers = new HttpHeaders({\n        Authorization: `Bearer ${token}`,\n        'Content-Type': 'application/json'\n      }); // Store job details in localStorage before sending to server\n\n      this.storeJobDetails(jobPost);\n      return this.http.post(this.jobPostUrl, jobPost, {\n        headers\n      });\n    }\n\n    storeMCQs(mcqs) {\n      localStorage.setItem('job_mcqs', JSON.stringify(mcqs));\n    }\n\n    getStoredMCQs() {\n      const mcqs = localStorage.getItem('job_mcqs');\n      return mcqs ? JSON.parse(mcqs) : null;\n    }\n\n    storeJobDetails(jobPost) {\n      localStorage.setItem('job_details', JSON.stringify(jobPost));\n      console.log('Service: Job details stored in localStorage', jobPost); // Dispatch a storage event to notify other parts of the application\n\n      const storageEvent = new StorageEvent('storage', {\n        key: 'job_details',\n        newValue: JSON.stringify(jobPost),\n        storageArea: localStorage\n      });\n      window.dispatchEvent(storageEvent);\n    }\n\n    getStoredJobDetails() {\n      const jobDetails = localStorage.getItem('job_details');\n\n      if (jobDetails) {\n        try {\n          const parsedDetails = JSON.parse(jobDetails);\n          console.log('Service: Retrieved job details from localStorage', parsedDetails);\n          return parsedDetails;\n        } catch (error) {\n          console.error('Service: Error parsing job details from localStorage', error);\n          return null;\n        }\n      }\n\n      return null;\n    }\n\n    clearStoredJobDetails() {\n      localStorage.removeItem('job_details');\n    }\n\n  }\n\n  JobDescriptionService.ɵfac = function JobDescriptionService_Factory(t) {\n    return new (t || JobDescriptionService)(i0.ɵɵinject(i1.HttpClient));\n  };\n\n  JobDescriptionService.ɵprov = /*@__PURE__*/i0.ɵɵdefineInjectable({\n    token: JobDescriptionService,\n    factory: JobDescriptionService.ɵfac,\n    providedIn: 'root'\n  });\n  return JobDescriptionService;\n})();","map":null,"metadata":{},"sourceType":"module"}