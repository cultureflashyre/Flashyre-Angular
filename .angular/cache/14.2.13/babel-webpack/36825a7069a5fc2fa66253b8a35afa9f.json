{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component, Input, ContentChild, ViewChild } from '@angular/core';\nlet ProfileEmploymentComponent = class ProfileEmploymentComponent {\n  constructor(cdr, router, employmentService) {\n    this.cdr = cdr;\n    this.router = router;\n    this.employmentService = employmentService;\n    this.rootClassName = '';\n    this.positions = [{\n      jobTitle: '',\n      companyName: '',\n      startDate: '',\n      endDate: '',\n      jobDetails: ''\n    }];\n  } // Add a new empty position and scroll to the bottom\n\n\n  addPosition() {\n    this.positions.push({\n      jobTitle: '',\n      companyName: '',\n      startDate: '',\n      endDate: '',\n      jobDetails: ''\n    }); // Force change detection and scroll to bottom after DOM update\n\n    this.cdr.detectChanges();\n    setTimeout(() => {\n      this.scrollToBottom();\n    }, 0);\n  } // Remove a position\n\n\n  removePosition(index) {\n    if (this.positions.length > 1) {\n      this.positions.splice(index, 1);\n    }\n  } // Scroll to the bottom of the component\n\n\n  scrollToBottom() {\n    if (!this.scrollContainer) {\n      console.warn('Scroll container not initialized');\n      return;\n    }\n\n    const container = this.scrollContainer.nativeElement;\n    const scrollHeight = container.scrollHeight;\n    const clientHeight = container.clientHeight;\n    console.log('Scroll Height:', scrollHeight, 'Client Height:', clientHeight);\n\n    if (scrollHeight > clientHeight) {\n      container.scrollTo({\n        top: scrollHeight,\n        behavior: 'smooth'\n      });\n      console.log('Scrolled to bottom:', scrollHeight);\n    } else {\n      console.log('No scroll needed, content fits within container');\n    }\n  } // Method to get positions data (called by parent)\n\n\n  getPositions() {\n    return this.positions;\n  } // Reset form after submission\n\n\n  resetForm() {\n    this.positions = [{\n      jobTitle: '',\n      companyName: '',\n      startDate: '',\n      endDate: '',\n      jobDetails: ''\n    }];\n  } // Method to get today's date in YYYY-MM-DD format\n\n\n  getTodayDate() {\n    const today = new Date();\n    const year = today.getFullYear();\n    const month = String(today.getMonth() + 1).padStart(2, '0'); // Months are 0-based\n\n    const day = String(today.getDate()).padStart(2, '0');\n    return `${year}-${month}-${day}`;\n  }\n\n  saveAndNext() {\n    const positions = this.getPositions();\n    this.employmentService.saveEmployment(positions).subscribe(response => {\n      console.log('Employment saved successfully:', response);\n      this.resetForm(); // Reset form after saving\n\n      this.router.navigate(['/profile-education-page-duplicate']); // Redirect to profile-education-page-duplicate\n    }, error => {\n      console.error('Error saving employment:', error);\n    });\n  }\n\n  goToPrevious() {\n    this.router.navigate(['/profile-basic-information']);\n  }\n\n  skipToEducation() {\n    this.router.navigate(['/profile-education-page-duplicate']);\n  }\n\n};\n\n__decorate([ContentChild('text')], ProfileEmploymentComponent.prototype, \"text\", void 0);\n\n__decorate([ContentChild('text311')], ProfileEmploymentComponent.prototype, \"text311\", void 0);\n\n__decorate([ContentChild('text7')], ProfileEmploymentComponent.prototype, \"text7\", void 0);\n\n__decorate([Input()], ProfileEmploymentComponent.prototype, \"rootClassName\", void 0);\n\n__decorate([ContentChild('text12')], ProfileEmploymentComponent.prototype, \"text12\", void 0);\n\n__decorate([ContentChild('text3')], ProfileEmploymentComponent.prototype, \"text3\", void 0);\n\n__decorate([ContentChild('text111')], ProfileEmploymentComponent.prototype, \"text111\", void 0);\n\n__decorate([ViewChild('scrollContainer', {\n  static: false\n})], ProfileEmploymentComponent.prototype, \"scrollContainer\", void 0);\n\nProfileEmploymentComponent = __decorate([Component({\n  selector: 'profile-employment-component',\n  templateUrl: 'profile-employment-component.component.html',\n  styleUrls: ['profile-employment-component.component.css']\n})], ProfileEmploymentComponent);\nexport { ProfileEmploymentComponent };","map":null,"metadata":{},"sourceType":"module"}