{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component, Input, ContentChild } from '@angular/core';\nimport { Validators } from '@angular/forms';\nlet ProfileCertificationsComponent = class ProfileCertificationsComponent {\n  constructor(fb, http) {\n    this.fb = fb;\n    this.http = http;\n    this.rootClassName = '';\n    this.certificationForm = this.fb.group({\n      certifications: this.fb.array([this.createCertificationGroup()])\n    });\n  }\n\n  ngOnInit() {} // Getter for certifications FormArray\n\n\n  get certifications() {\n    return this.certificationForm.get('certifications');\n  } // Create a new certification form group\n\n\n  createCertificationGroup() {\n    return this.fb.group({\n      certificate_name: ['', Validators.required],\n      issuing_institute: ['', Validators.required],\n      issued_date: ['', Validators.required],\n      renewal_date: [''],\n      credentials: ['', Validators.required]\n    });\n  } // Add a new certification\n\n\n  addCertification() {\n    this.certifications.push(this.createCertificationGroup());\n  } // Submit form data to backend\n\n\n  submitCertification() {\n    if (this.certificationForm.valid) {\n      const data = this.certificationForm.value.certifications;\n      data.forEach(cert => {\n        this.http.post('http://localhost:8000/api/certifications/', cert).subscribe(response => {\n          console.log('Certification saved:', response);\n          this.certificationForm.reset(); // Reset form after successful submission\n\n          this.certifications.clear(); // Clear the array\n\n          this.certifications.push(this.createCertificationGroup()); // Add a fresh group\n        }, error => {\n          console.error('Error saving certification:', error);\n        });\n      });\n    } else {\n      console.log('Form is invalid');\n    }\n  }\n\n};\n\n__decorate([ContentChild('text1')], ProfileCertificationsComponent.prototype, \"text1\", void 0);\n\n__decorate([ContentChild('text312')], ProfileCertificationsComponent.prototype, \"text312\", void 0);\n\n__decorate([ContentChild('text1111')], ProfileCertificationsComponent.prototype, \"text1111\", void 0);\n\n__decorate([ContentChild('text311')], ProfileCertificationsComponent.prototype, \"text311\", void 0);\n\n__decorate([ContentChild('text1121')], ProfileCertificationsComponent.prototype, \"text1121\", void 0);\n\n__decorate([ContentChild('text3121')], ProfileCertificationsComponent.prototype, \"text3121\", void 0);\n\n__decorate([ContentChild('text11')], ProfileCertificationsComponent.prototype, \"text11\", void 0);\n\n__decorate([Input()], ProfileCertificationsComponent.prototype, \"rootClassName\", void 0);\n\n__decorate([ContentChild('text112')], ProfileCertificationsComponent.prototype, \"text112\", void 0);\n\n__decorate([ContentChild('text111')], ProfileCertificationsComponent.prototype, \"text111\", void 0);\n\n__decorate([ContentChild('text')], ProfileCertificationsComponent.prototype, \"text\", void 0);\n\n__decorate([ContentChild('text31')], ProfileCertificationsComponent.prototype, \"text31\", void 0);\n\n__decorate([ContentChild('text3111')], ProfileCertificationsComponent.prototype, \"text3111\", void 0);\n\nProfileCertificationsComponent = __decorate([Component({\n  selector: 'profile-certifications-component',\n  templateUrl: 'profile-certifications-component.component.html',\n  styleUrls: ['profile-certifications-component.component.css']\n})], ProfileCertificationsComponent);\nexport { ProfileCertificationsComponent };","map":null,"metadata":{},"sourceType":"module"}