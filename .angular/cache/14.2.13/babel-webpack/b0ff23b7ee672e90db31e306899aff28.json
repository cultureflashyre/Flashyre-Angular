{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component, Input, ContentChild, ViewChild } from '@angular/core';\nlet CandidateJobForYouCard = class CandidateJobForYouCard {\n  constructor(router) {\n    this.router = router;\n    this.userProfile = {}; // To store user profile data\n\n    this.defaultProfilePicture = \"https://storage.googleapis.com/cv-storage-sample1/placeholder_images/profile-placeholder.jpg\";\n    this.matchingScore = 80; // Default value\n\n    this.score = 0;\n    this.rootClassName = '';\n    this.imageSrc = 'https://s3-alpha-sig.figma.com/img/cb33/d035/72e938963245d419674c3c2e71065794?Expires=1737936000&Key-Pair-Id=APKAQ4GOSFWCVNEHN3O4&Signature=q4HKhJijWG7gIkWWgF~7yllDZKHyqxALVLh-VKU~aa6mkzu0y4';\n    this.imageAlt = 'image';\n  }\n\n  ngOnInit() {\n    this.score = this.matchingScore;\n    this.loadUserProfile();\n  }\n\n  loadUserProfile() {\n    const profileData = localStorage.getItem('userProfile');\n\n    if (profileData) {\n      this.userProfile = JSON.parse(profileData);\n    } else {\n      console.log(\"User Profile NOT fetched\");\n    }\n  }\n\n  ngAfterViewInit() {\n    setTimeout(() => {\n      this.animateProgressBar();\n    }, 0);\n  }\n\n  getFillColor(value) {\n    if (value <= 40) return 'red';\n    if (value <= 60) return 'orange';\n    if (value <= 75) return '#4D91C6'; // Ampere color\n\n    if (value <= 84) return 'lightgreen';\n    return 'darkgreen';\n  }\n\n  animateProgressBar() {\n    const duration = 2000; // Animation duration in milliseconds\n\n    const startTime = Date.now();\n\n    const animate = () => {\n      const currentTime = Date.now();\n      const elapsedTime = currentTime - startTime;\n      const progress = Math.min(elapsedTime / duration, 1); // Progress between 0 and 1\n\n      const currentPercentage = progress * this.score;\n      this.updateProgressBar(currentPercentage);\n\n      if (progress < 1) {\n        requestAnimationFrame(animate);\n      }\n    };\n\n    animate();\n  }\n\n  updateProgressBar(percentage) {\n    const actualPercentage = Math.min(percentage, this.score);\n\n    if (this.desktopBar && this.desktopBar.nativeElement) {\n      this.desktopBar.nativeElement.style.width = `${actualPercentage}%`;\n      this.desktopBar.nativeElement.style.backgroundColor = this.getFillColor(actualPercentage);\n    }\n\n    if (this.mobileLoader && this.mobileLoader.nativeElement) {\n      const radius = 4;\n      const circumference = 2 * Math.PI * radius;\n      const strokeLength = actualPercentage / 134 * circumference;\n      this.mobileLoader.nativeElement.style.strokeDasharray = `${strokeLength} ${circumference - strokeLength}`;\n      this.mobileLoader.nativeElement.style.stroke = this.getFillColor(actualPercentage);\n    }\n  }\n\n  onCardClick(event) {\n    const target = event.target;\n\n    if (!target.closest('.candidate-job-for-you-card-button1') && !target.closest('.candidate-job-for-you-card-button2')) {\n      this.router.navigate(['/candidate-job-detail-view'], {\n        queryParams: {\n          jobId: this.jobId\n        }\n      });\n    }\n  }\n\n};\n\n__decorate([Input()], CandidateJobForYouCard.prototype, \"matchingScore\", void 0);\n\n__decorate([Input()], CandidateJobForYouCard.prototype, \"jobId\", void 0);\n\n__decorate([ViewChild('desktopBar')], CandidateJobForYouCard.prototype, \"desktopBar\", void 0);\n\n__decorate([ViewChild('mobileLoader')], CandidateJobForYouCard.prototype, \"mobileLoader\", void 0);\n\n__decorate([ContentChild('text2')], CandidateJobForYouCard.prototype, \"text2\", void 0);\n\n__decorate([ContentChild('button')], CandidateJobForYouCard.prototype, \"button\", void 0);\n\n__decorate([ContentChild('text4')], CandidateJobForYouCard.prototype, \"text4\", void 0);\n\n__decorate([ContentChild('text1')], CandidateJobForYouCard.prototype, \"text1\", void 0);\n\n__decorate([Input()], CandidateJobForYouCard.prototype, \"rootClassName\", void 0);\n\n__decorate([ContentChild('text')], CandidateJobForYouCard.prototype, \"text\", void 0);\n\n__decorate([Input()], CandidateJobForYouCard.prototype, \"imageSrc\", void 0);\n\n__decorate([ContentChild('button1')], CandidateJobForYouCard.prototype, \"button1\", void 0);\n\n__decorate([Input()], CandidateJobForYouCard.prototype, \"imageAlt\", void 0);\n\n__decorate([ContentChild('text3')], CandidateJobForYouCard.prototype, \"text3\", void 0);\n\nCandidateJobForYouCard = __decorate([Component({\n  selector: 'candidate-job-for-you-card',\n  templateUrl: './candidate-job-for-you-card.component.html',\n  styleUrls: ['./candidate-job-for-you-card.component.css']\n})], CandidateJobForYouCard);\nexport { CandidateJobForYouCard };","map":null,"metadata":{},"sourceType":"module"}