{"ast":null,"code":"import { BehaviorSubject } from 'rxjs';\nimport * as i0 from \"@angular/core\";\nexport let AssessmentStateService = /*#__PURE__*/(() => {\n  class AssessmentStateService {\n    constructor() {\n      this.questionStatesSubject = new BehaviorSubject({});\n      this.questionStates$ = this.questionStatesSubject.asObservable();\n      this.activeQuestionId = null;\n    }\n    /**\r\n     * Initialize question states for an assessment\r\n     * @param questionIds Array of question IDs in the assessment\r\n     */\n\n\n    initializeStates(questionIds) {\n      const initialStates = {};\n      questionIds.forEach(id => {\n        initialStates[id] = 'unvisited';\n      });\n      this.questionStatesSubject.next(initialStates);\n    }\n    /**\r\n     * Mark a question as visited\r\n     * @param questionId ID of the question\r\n     */\n\n\n    markAsVisited(questionId) {\n      const currentStates = this.questionStatesSubject.value;\n\n      if (currentStates[questionId] === 'unvisited') {\n        this.questionStatesSubject.next(Object.assign(Object.assign({}, currentStates), {\n          [questionId]: 'visited'\n        }));\n      }\n\n      this.activeQuestionId = questionId;\n    }\n    /**\r\n     * Mark a question as answered\r\n     * @param questionId ID of the question\r\n     */\n\n\n    markAsAnswered(questionId) {\n      const currentStates = this.questionStatesSubject.value;\n      this.questionStatesSubject.next(Object.assign(Object.assign({}, currentStates), {\n        [questionId]: 'answered'\n      }));\n    }\n    /**\r\n     * Mark a question as skipped\r\n     * @param questionId ID of the question\r\n     */\n\n\n    markAsSkipped(questionId) {\n      const currentStates = this.questionStatesSubject.value;\n      this.questionStatesSubject.next(Object.assign(Object.assign({}, currentStates), {\n        [questionId]: 'skipped'\n      }));\n    }\n    /**\r\n     * Get the current state of a question\r\n     * @param questionId ID of the question\r\n     * @returns Current state of the question\r\n     */\n\n\n    getQuestionState(questionId) {\n      return this.questionStatesSubject.value[questionId] || 'unvisited';\n    }\n    /**\r\n     * Check if a question is the active question\r\n     * @param questionId ID of the question\r\n     * @returns Whether the question is active\r\n     */\n\n\n    isActiveQuestion(questionId) {\n      return this.activeQuestionId === questionId;\n    }\n    /**\r\n     * Reset all question states\r\n     */\n\n\n    resetStates() {\n      this.questionStatesSubject.next({});\n      this.activeQuestionId = null;\n    }\n\n  }\n\n  AssessmentStateService.ɵfac = function AssessmentStateService_Factory(t) {\n    return new (t || AssessmentStateService)();\n  };\n\n  AssessmentStateService.ɵprov = /*@__PURE__*/i0.ɵɵdefineInjectable({\n    token: AssessmentStateService,\n    factory: AssessmentStateService.ɵfac,\n    providedIn: 'root'\n  });\n  return AssessmentStateService;\n})();","map":null,"metadata":{},"sourceType":"module"}