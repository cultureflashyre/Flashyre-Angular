{"ast":null,"code":"import { HttpParams } from '@angular/common/http';\nimport { of } from 'rxjs';\nimport { catchError, map } from 'rxjs/operators';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/common/http\";\nexport let SkillService = /*#__PURE__*/(() => {\n  class SkillService {\n    constructor(http) {\n      this.http = http; // Adjust this URL to your actual Django API endpoint\n\n      this.skillsServiceEndpoint = environment.apiUrl + 'api/v1/skills/'; // e.g., 'http://localhost:8000/api/v1/skills/'\n    }\n    /**\r\n     * Searches for skills based on a search term.\r\n     * Fetches from the backend API which performs a 'startsWith' search.\r\n     * @param term The search term (prefix)\r\n     * @returns Observable<ApiSkill[]> An observable array of skill objects matching the term.\r\n     */\n\n\n    searchSkills(term) {\n      if (!term.trim()) {\n        // If no search term, return empty array.\n        return of([]);\n      } // The backend search_fields = ['^name'] handles the startsWith logic\n\n\n      const params = new HttpParams().set('search', term);\n      return this.http.get(this.skillsApiUrl, {\n        params\n      }).pipe(map(response => response), // DRF typically returns the results directly in an array if not paginated\n      catchError(this.handleError('searchSkills', [])));\n    }\n    /**\r\n     * Handle Http operation that failed.\r\n     * Let the app continue.\r\n     * @param operation - name of the operation that failed\r\n     * @param result - optional value to return as the observable result\r\n     */\n\n\n    handleError(operation = 'operation', result) {\n      return error => {\n        console.error(`${operation} failed: ${error.message}`, error); // Optionally, send the error to remote logging infrastructure\n        // Let the app keep running by returning an empty/default result.\n\n        return of(result);\n      };\n    }\n\n  }\n\n  SkillService.ɵfac = function SkillService_Factory(t) {\n    return new (t || SkillService)(i0.ɵɵinject(i1.HttpClient));\n  };\n\n  SkillService.ɵprov = /*@__PURE__*/i0.ɵɵdefineInjectable({\n    token: SkillService,\n    factory: SkillService.ɵfac,\n    providedIn: 'root'\n  });\n  return SkillService;\n})();","map":null,"metadata":{},"sourceType":"module"}