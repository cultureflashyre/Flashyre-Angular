{"ast":null,"code":"import { __awaiter, __decorate } from \"tslib\";\nimport { Component, Input, ViewChild, ContentChild } from '@angular/core';\nlet CandidateJobForYouCard = class CandidateJobForYouCard {\n  constructor() {\n    this.score = 0; // Represents profile completion percentage for this card\n\n    this.jobId = ''; // Unique identifier for the job/card\n\n    this.rootClassName = '';\n    this.imageSrc = 'https://s3-alpha-sig.figma.com/img/cb33/d035/72e938963245d419674c3c2e71065794?Expires=1737936000&Key-Pair-Id=APKAQ4GOSFWCVNEHN3O4&Signature=q4HKhJijWG7gIkWWgF~7yllDZKHyqxALVLh-VKU~aa6mkzu0y4 Ascending';\n    this.imageAlt = 'image';\n  }\n\n  ngOnInit() {\n    // Fetch the profile completion percentage for this specific job\n    this.fetchProfileCompletion().then(percentage => {\n      this.score = percentage; // Set the profile completion percentage\n\n      this.animateProgressBar(); // Start the animation\n    });\n  } // Function to determine the fill color based on the percentage\n\n\n  getFillColor(value) {\n    if (value <= 40) return 'red';\n    if (value <= 60) return 'orange';\n    if (value <= 75) return '#4D91C6'; // Ampere color\n\n    if (value <= 84) return 'lightgreen';\n    return 'darkgreen';\n  } // Function to animate the progress bar\n\n\n  animateProgressBar() {\n    const duration = 3000; // Animation duration in milliseconds\n\n    const startTime = Date.now();\n\n    const animate = () => {\n      const currentTime = Date.now();\n      const elapsedTime = currentTime - startTime;\n      const progress = Math.min(elapsedTime / duration, 1); // Progress between 0 and 1\n      // Calculate the current percentage\n\n      const currentPercentage = progress * this.score; // Update the progress bar\n\n      this.updateProgressBar(currentPercentage); // Continue animation until duration is complete\n\n      if (progress < 1) {\n        requestAnimationFrame(animate);\n      }\n    }; // Start the animation\n\n\n    animate();\n  } // Function to update the progress bar width and color\n\n\n  updateProgressBar(percentage) {\n    // Update desktop progress bar\n    if (this.progressBar && this.progressBar.nativeElement) {\n      const barElement = this.progressBar.nativeElement;\n      barElement.style.width = `${percentage}%`;\n      barElement.style.backgroundColor = this.getFillColor(percentage);\n    } // Update mobile SVG progress bar\n\n\n    if (this.progressLoader && this.progressLoader.nativeElement) {\n      const loaderElement = this.progressLoader.nativeElement;\n      const radius = 4; // Radius of the SVG circle\n\n      const circumference = 2 * Math.PI * radius;\n      const strokeLength = percentage / 100 * circumference;\n      loaderElement.style.strokeDasharray = `${strokeLength} ${circumference - strokeLength}`;\n      loaderElement.style.stroke = this.getFillColor(percentage);\n    }\n  } // Simulate fetching profile completion percentage (replace with actual API/service call)\n\n\n  fetchProfileCompletion() {\n    return __awaiter(this, void 0, void 0, function* () {\n      return new Promise(resolve => {\n        setTimeout(() => {\n          // Simulate different percentages based on jobId\n          const percentages = {\n            'job1': 100,\n            'job2': 75,\n            'job3': 50,\n            'job4': 30\n          };\n          resolve(percentages[this.jobId] || 0); // Default to 0 if jobId not found\n        }, 1000);\n      });\n    });\n  }\n\n};\n\n__decorate([Input()], CandidateJobForYouCard.prototype, \"jobId\", void 0);\n\n__decorate([Input()], CandidateJobForYouCard.prototype, \"rootClassName\", void 0);\n\n__decorate([Input()], CandidateJobForYouCard.prototype, \"imageSrc\", void 0);\n\n__decorate([ContentChild('text')], CandidateJobForYouCard.prototype, \"text\", void 0);\n\n__decorate([ContentChild('text1')], CandidateJobForYouCard.prototype, \"text1\", void 0);\n\n__decorate([ContentChild('text2')], CandidateJobForYouCard.prototype, \"text2\", void 0);\n\n__decorate([ContentChild('text3')], CandidateJobForYouCard.prototype, \"text3\", void 0);\n\n__decorate([ContentChild('text4')], CandidateJobForYouCard.prototype, \"text4\", void 0);\n\n__decorate([ContentChild('button')], CandidateJobForYouCard.prototype, \"button\", void 0);\n\n__decorate([ContentChild('button1')], CandidateJobForYouCard.prototype, \"button1\", void 0);\n\n__decorate([Input()], CandidateJobForYouCard.prototype, \"imageAlt\", void 0);\n\n__decorate([ViewChild('progressBar', {\n  static: false\n})], CandidateJobForYouCard.prototype, \"progressBar\", void 0);\n\n__decorate([ViewChild('progressLoader', {\n  static: false\n})], CandidateJobForYouCard.prototype, \"progressLoader\", void 0);\n\nCandidateJobForYouCard = __decorate([Component({\n  selector: 'candidate-job-for-you-card',\n  templateUrl: 'candidate-job-for-you-card.component.html',\n  styleUrls: ['candidate-job-for-you-card.component.css']\n})], CandidateJobForYouCard);\nexport { CandidateJobForYouCard };","map":null,"metadata":{},"sourceType":"module"}