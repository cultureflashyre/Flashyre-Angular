{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component, Input, ContentChild } from '@angular/core';\nlet ProfileEmploymentComponent = class ProfileEmploymentComponent {\n  constructor(http) {\n    this.http = http;\n    this.rootClassName = '';\n    this.positions = [{\n      jobTitle: '',\n      companyName: '',\n      startDate: '',\n      endDate: '',\n      jobDetails: ''\n    }];\n  } // Add a new empty position\n\n\n  addPosition() {\n    this.positions.push({\n      jobTitle: '',\n      companyName: '',\n      startDate: '',\n      endDate: '',\n      jobDetails: ''\n    });\n  } // Submit employment data to backend\n\n\n  submitEmployment() {\n    const url = 'http://localhost:8000/api/employment/';\n    this.positions.forEach(position => {\n      const payload = {\n        job_title: position.jobTitle,\n        company_name: position.companyName,\n        start_date: position.startDate,\n        end_date: position.endDate || null,\n        job_details: position.jobDetails\n      };\n      this.http.post(url, payload).subscribe(response => {\n        console.log('Employment saved successfully:', response); // Optionally reset the form or notify the user\n\n        this.resetForm();\n      }, error => {\n        console.error('Error saving employment:', error);\n      });\n    });\n  } // Reset form after submission\n\n\n  resetForm() {\n    this.positions = [{\n      jobTitle: '',\n      companyName: '',\n      startDate: '',\n      endDate: '',\n      jobDetails: ''\n    }];\n  }\n\n};\n\n__decorate([ContentChild('text')], ProfileEmploymentComponent.prototype, \"text\", void 0);\n\n__decorate([ContentChild('text311')], ProfileEmploymentComponent.prototype, \"text311\", void 0);\n\n__decorate([ContentChild('text7')], ProfileEmploymentComponent.prototype, \"text7\", void 0);\n\n__decorate([Input()], ProfileEmploymentComponent.prototype, \"rootClassName\", void 0);\n\n__decorate([ContentChild('text12')], ProfileEmploymentComponent.prototype, \"text12\", void 0);\n\n__decorate([ContentChild('text3')], ProfileEmploymentComponent.prototype, \"text3\", void 0);\n\n__decorate([ContentChild('text111')], ProfileEmploymentComponent.prototype, \"text111\", void 0);\n\nProfileEmploymentComponent = __decorate([Component({\n  selector: 'profile-employment-component',\n  templateUrl: 'profile-employment-component.component.html',\n  styleUrls: ['profile-employment-component.component.css']\n})], ProfileEmploymentComponent);\nexport { ProfileEmploymentComponent };","map":null,"metadata":{},"sourceType":"module"}