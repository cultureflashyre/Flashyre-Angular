<div class="candidate-dashboard-main-container1">
  <div id="candidate-dashboard-1-main-container" class="candidate-dashboard-main-candidate-dashboard1-main-container">
    <navbar-for-candidate-view rootClassName="navbar-for-candidate-viewroot-class-name5">
      <ng-template #text11>
        <div class="candidate-dashboard-main-fragment10">
          <span class="candidate-dashboard-main-text10">Preference</span>
        </div>
      </ng-template>
      <ng-template #text12>
        <div class="candidate-dashboard-main-fragment11">
          <span class="candidate-dashboard-main-text11">Settings</span>
        </div>
      </ng-template>
      <ng-template #link1>
        <div class="candidate-dashboard-main-fragment12">
          <a [routerLink]="['/candidate-dashboard-main']" class="candidate-dashboard-main-text12">Dashboard</a>
        </div>
      </ng-template>
      <ng-template #text8>
        <div class="candidate-dashboard-main-fragment13">
          <a [routerLink]="['/candidate-assessment']" class="candidate-dashboard-main-text13">Upskill</a>
        </div>
      </ng-template>
      <ng-template #text1>
        <div class="candidate-dashboard-main-fragment14">
          <span class="candidate-dashboard-main-text14">Profile</span>
        </div>
      </ng-template>
      <ng-template #link2>
        <div class="candidate-dashboard-main-fragment15">
          <a [routerLink]="['/candidate-assessment']" class="candidate-dashboard-main-text15">Upskill</a>
        </div>
      </ng-template>
      <ng-template #text31>
        <div class="candidate-dashboard-main-fragment16">
          <span class="candidate-dashboard-main-text16">Logout</span>
        </div>
      </ng-template>
      <ng-template #link4>
        <div class="candidate-dashboard-main-fragment17">
          <a [routerLink]="['/candidate-dashboard-main']" class="candidate-dashboard-main-text17">Jobs for you</a>
        </div>
      </ng-template>
      <ng-template #text13>
        <div class="candidate-dashboard-main-fragment18">
          <span class="candidate-dashboard-main-text18">Logout</span>
        </div>
      </ng-template>
      <ng-template #link3>
        <div class="candidate-dashboard-main-fragment19">
          <a [routerLink]="['/candidate-assessment']" class="candidate-dashboard-main-text19">Assessment</a>
        </div>
      </ng-template>
      <ng-template #text2>
        <div class="candidate-dashboard-main-fragment20">
          <span class="candidate-dashboard-main-text20">Preference</span>
        </div>
      </ng-template>
      <ng-template #text5>
        <div class="candidate-dashboard-main-fragment21">
          <span class="candidate-dashboard-main-text21">âœ… 90% Profile Completion</span>
        </div>
      </ng-template>
      <ng-template #text4>
        <div class="candidate-dashboard-main-fragment22">
          <span class="candidate-dashboard-main-text22">Kathryn Murphy</span>
        </div>
      </ng-template>
      <ng-template #text9>
        <div class="candidate-dashboard-main-fragment23">
          <a [routerLink]="['/candidate-assessment']" class="candidate-dashboard-main-text23">Assessment</a>
        </div>
      </ng-template>
      <ng-template #text10>
        <div class="candidate-dashboard-main-fragment24">
          <a [routerLink]="['/candidate-dashboard-main']" class="candidate-dashboard-main-text24">Jobs for you</a>
        </div>
      </ng-template>
      <ng-template #text7>
        <div class="candidate-dashboard-main-fragment25">
          <a [routerLink]="['/candidate-dashboard-main']" class="candidate-dashboard-main-text25">Dashboard</a>
        </div>
      </ng-template>
      <ng-template #text3>
        <div class="candidate-dashboard-main-fragment26">
          <span class="candidate-dashboard-main-text26">Settings</span>
        </div>
      </ng-template>
      <ng-template #text6>
        <div class="candidate-dashboard-main-fragment27">
          <span class="candidate-dashboard-main-text27">View & edit profile</span>
        </div>
      </ng-template>
    </navbar-for-candidate-view>
    <div id="candidate-dashboard-1-first-container" class="candidate-dashboard-main-candidate-dashboard1-first-container">
      <div id="recent-assessments-main-container" class="candidate-dashboard-main-recent-assessments-main-container">
        <div id="recent-assessments-container" class="candidate-dashboard-main-recent-assessments-container">
          <span class="candidate-dashboard-main-recent-assessment-text">
            <span>Recent Assessments</span>
            <br />
            <br />
          </span>
        </div>
        <div id="assessments-name-scores-main-container" class="candidate-dashboard-main-assessments-name-scores-main-container">
          <div *ngFor="let assessment of assessments" class="candidate-dashboard-main-assessmanet1-container">
            <div class="candidate-dashboard-main-assessment1-details-container">
              <div class="candidate-dashboard-main-assessment-id-date-container">
                <span class="candidate-dashboard-main-assessment-id-text">
                  {{ assessment.assessment_id }}
                </span>
                <span class="candidate-dashboard-main-assessment-date-text">
                  {{ assessment.end_time | date:'dd/MM/yy' }}
                </span>
              </div>
              <span class="candidate-dashboard-main-assessment-concept-text">
                {{ assessment.assessment_name }}
              </span>
            </div>
            <div class="candidate-dashboard-main-score-container">
              <span class="candidate-dashboard-main-score-text">Score</span>
              <span class="candidate-dashboard-main-earned-score-text">
                {{ assessment.score }}
              </span>
            </div>
            <div class="candidate-dashboard-main-assessment-score-container">
              <div class="candidate-dashboard-main-container4">
                <div class="candidate-dashboard-main-container5">
                  <div class='progress-container'>
                    <svg viewBox='0 0.5 10 8'>
                      <path d='M2 8 A 4 4 0 1 1 8 8' fill='none' stroke-width='0.3' stroke='#E8F6FD' />
                      <path class='loader' d='M2 8 A 4 4 0 1 1 8 8' fill='none' stroke-width='0.3' />
                    </svg>
                    <div class='progress-content'>
                      <div class='progress-label'>{{ assessment.score }}%</div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
<script>
  $(document).ready(function () {
    $('.progress-container').each(function() {
      const $container = $(this);
      const $loader = $container.find('.loader');
      const $label = $container.find('.progress-label');
      const percentage = parseFloat($label.text().replace('%', '')) || 0;

      const getFillColor = (value) => {
        if (value <= 40) return 'red';
        if (value <= 60) return 'orange';
        if (value <= 75) return '#4D91C6';
        if (value <= 84) return 'lightgreen';
        return 'darkgreen';
      };

      $({ p: 0 }).animate({ p: percentage }, {
        duration: 3000,
        easing: 'swing',
        step: function (p) {
          const strokeValue = (p / 100) * 19;
          $loader.css({
            'stroke-dasharray': `${strokeValue} 19`,
            'stroke': getFillColor(p)
          });
          $label.text(`${Math.round(p)}%`);
        }
      });
    });
  });
</script>