<div class="admin-jd-extended-component-container1" [ngClass]="rootClassName">
  <div
    id="Role-Location-Container"
    class="admin-jd-extended-component-role-location-container"
  >
    <div id="role-container" class="admin-jd-extended-component-role-container">
      <div
        id="role-text-container"
        class="admin-jd-extended-component-role-text-container"
      >
        <span id="role-text" class="admin-jd-extended-component-role-text">
          <ng-container>
            <ng-template #defaultRoleText>
              <div class="admin-jd-extended-component-fragment17">
                <span class="admin-jd-extended-component-text17">Role</span>
              </div>
            </ng-template>
            <ng-container
              *ngTemplateOutlet="roleText ? roleText : defaultRoleText"
            ></ng-container>
          </ng-container>
        </span>
        <span
          id="role-star-text"
          class="admin-jd-extended-component-role-star-text"
        >
          <ng-container>
            <ng-template #defaultRoleStarText>
              <div class="admin-jd-extended-component-fragment18">
                <span class="admin-jd-extended-component-text18">*</span>
              </div>
            </ng-template>
            <ng-container
              *ngTemplateOutlet="roleStarText ? roleStarText : defaultRoleStarText"
            ></ng-container>
          </ng-container>
        </span>
      </div>
      <div
        id="role-input-container"
        class="admin-jd-extended-component-role-input-container"
      >
        <input
          type="text"
          id="Role-Input-Field"
          [attr.placeholder]="roleInputFieldPlaceholder"
          class="admin-jd-extended-component-role-input-field input"
        />
      </div>
    </div>
    <div
      id="location-container"
      class="admin-jd-extended-component-location-container"
    >
      <div
        id="location-text-container"
        class="admin-jd-extended-component-location-text-container"
      >
        <span
          id="location-text"
          class="admin-jd-extended-component-location-text"
        >
          <ng-container>
            <ng-template #defaultLocationText>
              <div class="admin-jd-extended-component-fragment14">
                <span class="admin-jd-extended-component-text14">Location</span>
              </div>
            </ng-template>
            <ng-container
              *ngTemplateOutlet="locationText ? locationText : defaultLocationText"
            ></ng-container>
          </ng-container>
        </span>
        <span
          id="location-star-text"
          class="admin-jd-extended-component-location-star-text"
        >
          <ng-container>
            <ng-template #defaultLocationStarText>
              <div class="admin-jd-extended-component-fragment15">
                <span class="admin-jd-extended-component-text15">*</span>
              </div>
            </ng-template>
            <ng-container
              *ngTemplateOutlet="locationStarText ? locationStarText : defaultLocationStarText"
            ></ng-container>
          </ng-container>
        </span>
      </div>
      <div
        id="location-input-container"
        class="admin-jd-extended-component-location-input-container"
      >
        <div class="admin-jd-extended-component-container2">
          <div class="admin-jd-extended-component-container3">
            
  <style>
    body {
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      margin: 0;
      display: flex;
      justify-content: center;
      flex: 0 0 auto;
      align-items: flex-start;
      align-self: flex-start;
      height: 100vh;
      background-color: #FFFFFF;
      width: 100%;
    }
    
    .location-form {
      position: relative;
    }

    .container {
      width: 100%;
      height: 48px;
    }
    
    .input-wrapper {
      position: relative;
    }
    
    .location-input {
      width: 100%;
      padding-left: 14px;
      border: 1px solid;
      border-color: #A7A7A7;
      border-radius: 4px;
      font-size: 18px;
      box-sizing: border-box;
      transition: border-color 0.3s;
      height: 100%;
    }
    
    .location-input:focus {
      outline: none;
      border-color: #4299e1;
    }
    
    .location-icon {
      position: absolute;
      right: 12px;
      top: 50%;
      transform: translateY(-50%);
      color: #A7A7A7;
    }
    
    .suggestions {
      position: absolute;
      width: 100%;
      max-height: 250px;
      overflow: visible;
      background: white;
      border: 1px solid #A7A7A7;
      border-radius: 6px;
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
      margin-top: 4px;
      z-index: 10;
      display: none;
    }
    
    .suggestion-item {
      padding: 12px 16px;
      cursor: pointer;
      border-bottom: 1px solid #f0f4f8;
    }
    
    .suggestion-item:last-child {
      border-bottom: none;
    }
    
    .suggestion-item:hover {
      background-color: #f0f4f8;
    }
    
    .no-suggestions {
      padding: 12px 16px;
      color: #718096;
      font-style: italic;
    }
    
    .loading {
      position: absolute;
      right: 40px;
      top: 50%;
      transform: translateY(-50%);
      width: 16px;
      height: 16px;
      border: 2px solid #e2e8f0;
      border-top: 2px solid #4299e1;
      border-radius: 50%;
      animation: spin 1s linear infinite;
      display: none;
    }
    
    @keyframes spin {
      0% { transform: translateY(-50%) rotate(0deg); }
      100% { transform: translateY(-50%) rotate(360deg); }
    }

    /* Media query for max-width 991px */
    @media (max-width: 991px) {
      .container {
        height: 44px;
      }
      
    }
  </style>

  <div class='container'>
    <form class='location-form'>
      <div class='input-wrapper'>
        <input
          type='text'
          id='location'
          class='location-input'
          placeholder='Enter your location'
          autocomplete='off'
        />
        <div class='loading' id='loading'></div>
        <svg class='location-icon' width='20' height='20' viewBox='0 0 24 24' fill='none' stroke='currentColor' stroke-width='2'>
          <path d='M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z'></path>
          <circle cx='12' cy='10' r='3'></circle>
        </svg>
      </div>
      <div class='suggestions' id='suggestions'></div>
    </form>
  </div>

  <script>
    // DOM Elements
    const locationInput = document.getElementById('location');
    const suggestionsContainer = document.getElementById('suggestions');
    const loadingIndicator = document.getElementById('loading');
    const locationForm = document.querySelector('.location-form');
    
    // Variables
    let debounceTimer;
    const DEBOUNCE_DELAY = 300; // ms
    
    // Replace this with your actual API endpoint
    const LOCATION_API_URL = 'https://api.example.com/locations/autocomplete';

    // Event Listeners
    locationInput.addEventListener('input', handleInput);
    locationForm.addEventListener('submit', handleSubmit);
    document.addEventListener('click', handleOutsideClick);

    /**
     * Handle input with debounce
     */
    function handleInput() {
      const query = locationInput.value.trim();
      
      // Clear previous timer
      clearTimeout(debounceTimer);
      
      // Hide suggestions if input is empty
      if (query.length === 0) {
        hideSuggestions();
        return;
      }
      
      // Set loading state
      loadingIndicator.style.display = 'block';
      
      // Debounce API calls
      debounceTimer = setTimeout(() => {
        fetchLocationSuggestions(query);
      }, DEBOUNCE_DELAY);
    }

    /**
     * Fetch location suggestions from API
     * @param {string} query - User input
     */
    async function fetchLocationSuggestions(query) {
      try {
        // In a real implementation, you would use fetch with your API
        // This is a simulation with mock data for demonstration
        
        // Simulate API call delay
        await new Promise(resolve => setTimeout(resolve, 500));
        
        // Mock data - replace with actual API call
        const mockResponse = getMockSuggestions(query);
        
        // Display suggestions
        displaySuggestions(mockResponse);
      } catch (error) {
        console.error('Error fetching location suggestions:', error);
        suggestionsContainer.innerHTML = `
          <div class='no-suggestions'>Unable to fetch suggestions. Please try again.</div>
        `;
        suggestionsContainer.style.display = 'block';
      } finally {
        loadingIndicator.style.display = 'none';
      }
    }

    /**
     * Mock function to simulate API responses
     * Replace with actual API call in production
     */
    function getMockSuggestions(query) {
      query = query.toLowerCase();
      const cities = ['Multiple',
        'New York, NY, USA',
        'Los Angeles, CA, USA',
        'Chicago, IL, USA',
        'Houston, TX, USA',
        'Phoenix, AZ, USA',
        'Philadelphia, PA, USA',
        'San Antonio, TX, USA',
        'San Diego, CA, USA',
        'Dallas, TX, USA',
        'San Jose, CA, USA',
        'London, UK',
        'Paris, France',
        'Tokyo, Japan',
        'Sydney, Australia',
        'Toronto, Canada'
      ];
      
      return cities.filter(city => city.toLowerCase().includes(query));
    }

    /**
     * Display suggestions in the dropdown
     * @param {Array} suggestions - List of location suggestions
     */
    function displaySuggestions(suggestions) {
      if (suggestions.length === 0) {
        suggestionsContainer.innerHTML = `
          <div class='no-suggestions'>No locations found</div>
        `;
      } else {
        suggestionsContainer.innerHTML = suggestions
          .map(location => `
            <div class='suggestion-item' data-location='${location}'>${location}</div>
          `)
          .join('');
          
        // Add click event to suggestions
        const suggestionItems = suggestionsContainer.querySelectorAll('.suggestion-item');
        suggestionItems.forEach(item => {
          item.addEventListener('click', () => {
            locationInput.value = item.dataset.location;
            hideSuggestions();
          });
        });
      }
      
      suggestionsContainer.style.display = 'block';
    }

    /**
     * Hide suggestions dropdown
     */
    function hideSuggestions() {
      suggestionsContainer.style.display = 'none';
    }

    /**
     * Handle clicks outside the suggestions dropdown
     */
    function handleOutsideClick(event) {
      if (!suggestionsContainer.contains(event.target) && event.target !== locationInput) {
        hideSuggestions();
      }
    }

    /**
     * Handle form submission
     */
    function handleSubmit(event) {
      event.preventDefault();
      const location = locationInput.value.trim();
      
      if (location) {
        alert(`Location selected: ${location}`);
        // Here you would typically send this data to your backend
      } else {
        alert('Please select a location');
      }
    }

    // In a real implementation, replace the mock data with actual API calls:
    // 
    // async function fetchLocationSuggestions(query) {
    //   try {
    //     const response = await fetch(`${LOCATION_API_URL}?query=${encodeURIComponent(query)}`);
    //     if (!response.ok) throw new Error('Network response was not ok');
    //     const data = await response.json();
    //     displaySuggestions(data.suggestions);
    //   } catch (error) {
    //     console.error('Error fetching location suggestions:', error);
    //     suggestionsContainer.innerHTML = `
    //       <div class='no-suggestions'>Unable to fetch suggestions. Please try again.</div>
    //     `;
    //     suggestionsContainer.style.display = 'block';
    //   } finally {
    //     loadingIndicator.style.display = 'none';
    //   }
    // }
  </script>

          </div>
        </div>
      </div>
    </div>
  </div>
  <div
    id="total-and-relevant-experience-container"
    class="admin-jd-extended-component-total-and-relevant-experience-container"
  >
    <div
      id="total-experience-container"
      class="admin-jd-extended-component-total-experience-container"
    >
      <div
        id="total-experience-text-container"
        class="admin-jd-extended-component-total-experience-text-container"
      >
        <span
          id="total-experience-text"
          class="admin-jd-extended-component-total-experience-text"
        >
          <ng-container>
            <ng-template #defaultTotalExperienceText>
              <div class="admin-jd-extended-component-fragment13">
                <span class="admin-jd-extended-component-text13">
                  Total Experience
                </span>
              </div>
            </ng-template>
            <ng-container
              *ngTemplateOutlet="totalExperienceText ? totalExperienceText : defaultTotalExperienceText"
            ></ng-container>
          </ng-container>
        </span>
      </div>
      <div
        id="total-experience-code-container"
        class="admin-jd-extended-component-total-experience-code-container"
      >
        <div class="admin-jd-extended-component-container4">
          <div class="admin-jd-extended-component-container5">
            
    <style>
        .range-indicator {
            position: relative;
            width: 90%;
            height: 100%;
            background-color: transparent;
        }

        .line {
            position: absolute;
            top: 20px;
            left: 0;
            width: 100%;
            height: 4px;
            background-color: #E4E5E8;
        }

        .filled-segment {
            position: absolute;
            top: 20px;
            height: 5px;
            background-color: #05356C;
        }

        .marker {
            position: absolute;
            top: 17px;
            width: 12px;
            height: 12px;
            border-radius: 50%;
            border-width: 2px;
            border-color: #05356C;
            background-color: #FFFFFF;
            cursor: pointer;
            z-index: 2;
        }

        .label {
            position: absolute;
            top: 0;
            color: #6B7280;
            font-family: sans-serif;
            font-size: 12px;
            transform: translateX(-50%);
        }
    </style>

    <div class='range-indicator' id='rangeIndicator'>
        <div class='line'></div>
        <div class='filled-segment' id='filledSegment'></div>
        <div class='marker' id='markerLeft' style='left: 55px;'></div>
        <div class='marker' id='markerRight' style='left: 175px;'></div>
        <div class='label' id='labelLeft' style='left: 60px;'>2yrs</div>
        <div class='label' id='labelRight' style='left: 180px;'>6yrs</div>
    </div>

    <script>
        const rangeIndicator = document.getElementById('rangeIndicator');
        const markerLeft = document.getElementById('markerLeft');
        const markerRight = document.getElementById('markerRight');
        const labelLeft = document.getElementById('labelLeft');
        const labelRight = document.getElementById('labelRight');
        const filledSegment = document.getElementById('filledSegment');

        let isDragging = false;
        let currentMarker = null;

        function updateFilledSegment() {
            const leftPos = parseInt(markerLeft.style.left);
            const rightPos = parseInt(markerRight.style.left);
            filledSegment.style.left = `${leftPos + 5}px`;
            filledSegment.style.width = `${rightPos - leftPos}px`;
        }

        function updateLabelPosition(marker, label) {
            const markerPos = parseInt(marker.style.left);
            label.style.left = `${markerPos + 5}px`;
        }

        function onMouseMove(e) {
            if (!isDragging) return;

            const rect = rangeIndicator.getBoundingClientRect();
            let newLeft = e.clientX - rect.left - 5;

            const minLeft = 0;
            const maxLeft = rect.width - 10;

            if (currentMarker === markerLeft) {
                newLeft = Math.max(minLeft, Math.min(newLeft, parseInt(markerRight.style.left) - 10));
            } else if (currentMarker === markerRight) {
                newLeft = Math.min(maxLeft, Math.max(newLeft, parseInt(markerLeft.style.left) + 10));
            }

            currentMarker.style.left = `${newLeft}px`;
            updateFilledSegment();
            updateLabelPosition(currentMarker, currentMarker === markerLeft ? labelLeft : labelRight);
        }

        function onMouseUp() {
            isDragging = false;
            document.removeEventListener('mousemove', onMouseMove);
            document.removeEventListener('mouseup', onMouseUp);
        }

        function onMouseDown(e) {
            isDragging = true;
            currentMarker = e.target;
            document.addEventListener('mousemove', onMouseMove);
            document.addEventListener('mouseup', onMouseUp);
        }

        markerLeft.addEventListener('mousedown', onMouseDown);
        markerRight.addEventListener('mousedown', onMouseDown);

        // Initial setup
        updateFilledSegment();
    </script>

          </div>
        </div>
      </div>
    </div>
    <div
      id="relevant-experience-container"
      class="admin-jd-extended-component-relevant-experience-container"
    >
      <div
        id="relevant-experience-text-container"
        class="admin-jd-extended-component-relevant-experience-text-container"
      >
        <span
          id="relevant-experience-text"
          class="admin-jd-extended-component-relevant-experience-text"
        >
          <ng-container>
            <ng-template #defaultRelevantExperienceText>
              <div class="admin-jd-extended-component-fragment12">
                <span class="admin-jd-extended-component-text12">
                  Relevant Experience
                </span>
              </div>
            </ng-template>
            <ng-container
              *ngTemplateOutlet="relevantExperienceText ? relevantExperienceText : defaultRelevantExperienceText"
            ></ng-container>
          </ng-container>
        </span>
      </div>
      <div
        id="relevant-experience-code-container"
        class="admin-jd-extended-component-relevant-experience-code-container"
      >
        <div class="admin-jd-extended-component-container6">
          <div class="admin-jd-extended-component-container7">
            
    <style>
        .range-indicator {
            position: relative;
            width: 90%;
            height: 100%;
            background-color: transparent;
        }

        .line {
            position: absolute;
            top: 20px;
            left: 0;
            width: 100%;
            height: 4px;
            background-color: #E4E5E8;
        }

        .filled-segment {
            position: absolute;
            top: 20px;
            height: 5px;
            background-color: #05356C;
        }

        .marker {
            position: absolute;
            top: 17px;
            width: 12px;
            height: 12px;
            border-radius: 50%;
            border-width: 2px;
            border-color: #05356C;
            background-color: #FFFFFF;
            cursor: pointer;
            z-index: 2;
        }

        .label {
            position: absolute;
            top: 0;
            color: #6B7280;
            font-family: sans-serif;
            font-size: 12px;
            transform: translateX(-50%);
        }
    </style>

    <div class='range-indicator' id='rangeIndicator'>
        <div class='line'></div>
        <div class='filled-segment' id='filledSegment'></div>
        <div class='marker' id='markerLeft' style='left: 55px;'></div>
        <div class='marker' id='markerRight' style='left: 175px;'></div>
        <div class='label' id='labelLeft' style='left: 60px;'>2yrs</div>
        <div class='label' id='labelRight' style='left: 180px;'>6yrs</div>
    </div>

    <script>
        const rangeIndicator = document.getElementById('rangeIndicator');
        const markerLeft = document.getElementById('markerLeft');
        const markerRight = document.getElementById('markerRight');
        const labelLeft = document.getElementById('labelLeft');
        const labelRight = document.getElementById('labelRight');
        const filledSegment = document.getElementById('filledSegment');

        let isDragging = false;
        let currentMarker = null;

        function updateFilledSegment() {
            const leftPos = parseInt(markerLeft.style.left);
            const rightPos = parseInt(markerRight.style.left);
            filledSegment.style.left = `${leftPos + 5}px`;
            filledSegment.style.width = `${rightPos - leftPos}px`;
        }

        function updateLabelPosition(marker, label) {
            const markerPos = parseInt(marker.style.left);
            label.style.left = `${markerPos + 5}px`;
        }

        function onMouseMove(e) {
            if (!isDragging) return;

            const rect = rangeIndicator.getBoundingClientRect();
            let newLeft = e.clientX - rect.left - 5;

            const minLeft = 0;
            const maxLeft = rect.width - 10;

            if (currentMarker === markerLeft) {
                newLeft = Math.max(minLeft, Math.min(newLeft, parseInt(markerRight.style.left) - 10));
            } else if (currentMarker === markerRight) {
                newLeft = Math.min(maxLeft, Math.max(newLeft, parseInt(markerLeft.style.left) + 10));
            }

            currentMarker.style.left = `${newLeft}px`;
            updateFilledSegment();
            updateLabelPosition(currentMarker, currentMarker === markerLeft ? labelLeft : labelRight);
        }

        function onMouseUp() {
            isDragging = false;
            document.removeEventListener('mousemove', onMouseMove);
            document.removeEventListener('mouseup', onMouseUp);
        }

        function onMouseDown(e) {
            isDragging = true;
            currentMarker = e.target;
            document.addEventListener('mousemove', onMouseMove);
            document.addEventListener('mouseup', onMouseUp);
        }

        markerLeft.addEventListener('mousedown', onMouseDown);
        markerRight.addEventListener('mousedown', onMouseDown);

        // Initial setup
        updateFilledSegment();
    </script>

          </div>
        </div>
      </div>
    </div>
  </div>
  <div
    id="notice-period-container"
    class="admin-jd-extended-component-notice-period-container"
  >
    <div
      id="notice-period-text-container"
      class="admin-jd-extended-component-notice-period-text-container"
    >
      <span
        id="university-institute-text"
        class="admin-jd-extended-component-university-institute-text"
      >
        <ng-container>
          <ng-template #defaultUniversityInstituteText>
            <div class="admin-jd-extended-component-fragment16">
              <span class="admin-jd-extended-component-text16">
                Notice Period
              </span>
            </div>
          </ng-template>
          <ng-container
            *ngTemplateOutlet="universityInstituteText ? universityInstituteText : defaultUniversityInstituteText"
          ></ng-container>
        </ng-container>
      </span>
      <span
        id="notice-period-star-text"
        class="admin-jd-extended-component-notice-period-star-text"
      >
        <ng-container>
          <ng-template #defaultNoticePeriodStarText>
            <div class="admin-jd-extended-component-fragment11">
              <span class="admin-jd-extended-component-text11">*</span>
            </div>
          </ng-template>
          <ng-container
            *ngTemplateOutlet="noticePeriodStarText ? noticePeriodStarText : defaultNoticePeriodStarText"
          ></ng-container>
        </ng-container>
      </span>
    </div>
    <div
      id="notice-period-input-container"
      class="admin-jd-extended-component-notice-period-input-container"
    >
      <input
        type="text"
        id="notice-period-input-filed"
        [attr.placeholder]="noticePeriodInputFiledPlaceholder"
        class="admin-jd-extended-component-notice-period-input-filed input"
      />
    </div>
  </div>
  <div
    id="skills-container"
    class="admin-jd-extended-component-skills-container"
  >
    <div
      id="skill-text-container"
      class="admin-jd-extended-component-skill-text-container"
    >
      <span id="skill-text" class="admin-jd-extended-component-skill-text">
        <ng-container>
          <ng-template #defaultSkillText>
            <div class="admin-jd-extended-component-fragment10">
              <span class="admin-jd-extended-component-text10">Skills</span>
            </div>
          </ng-template>
          <ng-container
            *ngTemplateOutlet="skillText ? skillText : defaultSkillText"
          ></ng-container>
        </ng-container>
      </span>
      <span
        id="skill-star-text"
        class="admin-jd-extended-component-skill-star-text"
      >
        <ng-container>
          <ng-template #defaultSkillStarText>
            <div class="admin-jd-extended-component-fragment19">
              <span class="admin-jd-extended-component-text19">*</span>
            </div>
          </ng-template>
          <ng-container
            *ngTemplateOutlet="skillStarText ? skillStarText : defaultSkillStarText"
          ></ng-container>
        </ng-container>
      </span>
    </div>
    <div
      id="skills-input-container"
      class="admin-jd-extended-component-skills-input-container"
    >
      <div class="admin-jd-extended-component-container8">
        <div class="admin-jd-extended-component-container9">
          
    <style>
        body {
            font-family: Arial, sans-serif;
            width: 100%;
            height: 100%;
        }

        .tag-container {
            display: flex;
            flex-wrap: wrap;
            align-items: center;
            padding: 8px;
            border: 1px solid #A7A7A7;
            border-radius: 4px;
            height: 100%;
        }

        .tag {
            display: inline-flex;
            align-items: center;
            background-color: #e1f5fe;
            color: #0288d1;
            padding: 6px;
            border-radius: 16px;
            margin: 4px;
            font-size: 16px;
        }

        .tag span {
            margin-right: 6px;
        }

        .tag button {
            background: none;
            border: none;
            color: #0288d1;
            cursor: pointer;
            font-size: 16px;
            font-weight: bold;
        }

        .tag-input {
            flex: 1;
            border: none;
            outline: none;
            padding: 8px;
            font-size: 16px;
            width: 100%;
            height: 100%;
        }

        .suggestions {
            position: absolute;
            border: 1px solid #ccc;
            border-top: none;
            border-radius: 0 0 4px 4px;
            background-color: white;
            max-height: 200px;
            overflow-y: auto;
            width: calc(100% - 40px);
            max-width: 600px;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
            display: none;
            z-index: 10;
        }

        .suggestion-item {
            padding: 8px 12px;
            cursor: pointer;
        }

        .suggestion-item:hover {
            background-color: #f5f5f5;
        }

        .active-suggestion {
            background-color: #e1f5fe;
        }


    </style>



    <div class='tag-container' id='tagContainer'>
        <input type='text' class='tag-input' id='tagInput' placeholder='Type to add Skills...'>
    </div>
    <div class='suggestions' id='suggestions'></div>

    <script>
        // Sample tags for demonstration
        const availableTags = [
            'JavaScript', 'HTML', 'CSS', 'React', 'Vue', 'Angular', 
            'Node.js', 'TypeScript', 'Python', 'Java', 'PHP', 'Ruby',
            'Swift', 'Kotlin', 'Go', 'Rust', 'C#', 'C++', 'MongoDB',
            'MySQL', 'PostgreSQL', 'Redis', 'GraphQL', 'REST API'
        ];

        const tagContainer = document.getElementById('tagContainer');
        const tagInput = document.getElementById('tagInput');
        const suggestions = document.getElementById('suggestions');
        
        let selectedTags = [];
        let activeSuggestionIndex = -1;

        // Filter suggestions based on input
        function filterSuggestions(input) {
            if (!input) return [];
            
            const inputLower = input.toLowerCase();
            return availableTags.filter(tag => 
                tag.toLowerCase().includes(inputLower) && 
                !selectedTags.includes(tag)
            );
        }

        // Display suggestions
        function showSuggestions(filteredSuggestions) {
            suggestions.innerHTML = '';
            
            if (filteredSuggestions.length === 0) {
                suggestions.style.display = 'none';
                return;
            }

            filteredSuggestions.forEach((suggestion, index) => {
                const item = document.createElement('div');
                item.className = 'suggestion-item';
                item.textContent = suggestion;
                
                item.addEventListener('click', () => {
                    addTag(suggestion);
                    tagInput.value = '';
                    suggestions.style.display = 'none';
                    tagInput.focus();
                });

                suggestions.appendChild(item);
            });

            suggestions.style.display = 'block';
            activeSuggestionIndex = -1;
        }

        // Add a new tag
        function addTag(text) {
            if (!text || selectedTags.includes(text)) return;
            
            selectedTags.push(text);
            
            const tag = document.createElement('div');
            tag.className = 'tag';
            
            const tagText = document.createElement('span');
            tagText.textContent = text;
            tag.appendChild(tagText);
            
            const removeBtn = document.createElement('button');
            removeBtn.textContent = 'Ã—';
            removeBtn.addEventListener('click', () => {
                tag.remove();
                selectedTags = selectedTags.filter(t => t !== text);
            });
            
            tag.appendChild(removeBtn);
            tagContainer.insertBefore(tag, tagInput);
        }

        // Handle navigation through suggestions with keyboard
        function navigateSuggestions(direction) {
            const items = suggestions.querySelectorAll('.suggestion-item');
            if (items.length === 0) return;
            
            // Remove active class from current selection
            if (activeSuggestionIndex >= 0 && activeSuggestionIndex < items.length) {
                items[activeSuggestionIndex].classList.remove('active-suggestion');
            }
            
            // Update index
            if (direction === 'down') {
                activeSuggestionIndex = (activeSuggestionIndex + 1) % items.length;
            } else {
                activeSuggestionIndex = activeSuggestionIndex <= 0 ? items.length - 1 : activeSuggestionIndex - 1;
            }
            
            // Add active class to new selection
            items[activeSuggestionIndex].classList.add('active-suggestion');
            items[activeSuggestionIndex].scrollIntoView({ block: 'nearest' });
        }

        // Event listeners
        tagInput.addEventListener('input', () => {
            const filteredSuggestions = filterSuggestions(tagInput.value);
            showSuggestions(filteredSuggestions);
        });

        tagInput.addEventListener('keydown', (e) => {
            // Enter key - add tag from input or selected suggestion
            if (e.key === 'Enter') {
                e.preventDefault();
                const items = suggestions.querySelectorAll('.suggestion-item');
                if (activeSuggestionIndex >= 0 && activeSuggestionIndex < items.length) {
                    addTag(items[activeSuggestionIndex].textContent);
                } else if (tagInput.value) {
                    addTag(tagInput.value);
                }
                tagInput.value = '';
                suggestions.style.display = 'none';
            }
            // Arrow down - navigate down
            else if (e.key === 'ArrowDown') {
                e.preventDefault();
                navigateSuggestions('down');
            }
            // Arrow up - navigate up
            else if (e.key === 'ArrowUp') {
                e.preventDefault();
                navigateSuggestions('up');
            }
            // Backspace - remove last tag if input is empty
            else if (e.key === 'Backspace' && !tagInput.value) {
                const lastIndex = selectedTags.length - 1;
                if (lastIndex >= 0) {
                    const lastTag = selectedTags[lastIndex];
                    selectedTags.pop();
                    // Remove the last tag element
                    const tags = tagContainer.querySelectorAll('.tag');
                    tags[tags.length - 1].remove();
                }
            }
            // Escape - close suggestions
            else if (e.key === 'Escape') {
                suggestions.style.display = 'none';
            }
        });

        // Close suggestions when clicking outside
        document.addEventListener('click', (e) => {
            if (!tagContainer.contains(e.target) && !suggestions.contains(e.target)) {
                suggestions.style.display = 'none';
            }
        });

        // Focus input when clicking on container
        tagContainer.addEventListener('click', (e) => {
            if (e.target === tagContainer) {
                tagInput.focus();
            }
        });
    </script>



        </div>
      </div>
    </div>
  </div>
</div>
